<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>College Football Gamecast</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; }
    header { background:#cc0000; color:white; padding:15px; text-align:center; font-size:26px; font-weight:bold; }
    .container { display:flex; padding:20px; gap:20px; }
    .games, .gamecast { flex:1; background:white; border-radius:8px; padding:20px; box-shadow:0 3px 8px rgba(0,0,0,0.2); }
    .game { background:#eee; padding:8px; margin:6px 0; border-radius:6px; cursor:pointer; }
    .game:hover { background:#ddd; }
    .scoreboard { font-size:30px; font-weight:bold; margin:10px 0; text-align:center; }
    .quarter { margin-top:10px; font-weight:bold; color:#333; }
    .plays { max-height:350px; overflow-y:auto; background:#fafafa; border:1px solid #ccc; border-radius:6px; padding:8px; }
    .odds { margin-top:10px; font-style:italic; text-align:center; }
  </style>
</head>
<body>

<header>College Football Gamecast</header>

<div class="container">
  <div class="games">
    <h2>Pick a Game</h2>
    <select id="team1"></select>
    <select id="team2"></select>
    <button onclick="startGame()">Start Game</button>
  </div>

  <div class="gamecast">
    <h2 id="matchup">No Game Selected</h2>
    <div id="scoreboard" class="scoreboard"></div>
    <div id="odds" class="odds"></div>
    <div class="plays" id="plays"></div>
  </div>
</div>

<script>
const teams = [
  "Alabama","Georgia","Ohio State","Michigan","Texas","Oklahoma",
  "Clemson","Notre Dame","LSU","Florida State","Penn State","USC",
  "Tennessee","Oregon","Washington","Texas A&M","Florida","Auburn",
  "Wisconsin","Iowa","Ole Miss","Kentucky","Miami","North Carolina",
  "Utah","TCU","Baylor","Mississippi State","Arkansas","Kansas State",
  "Oklahoma State","Nebraska","South Carolina","Louisville","Missouri",
  "NC State","Virginia Tech","Maryland","UCF","Boise State"
];

// Fill dropdowns
teams.forEach(t=>{
  document.getElementById("team1").add(new Option(t,t));
  document.getElementById("team2").add(new Option(t,t));
});

let gameInterval;
let team1, team2, score1, score2, timeRemaining, quarter;

function startGame(){
  clearInterval(gameInterval);
  team1=document.getElementById("team1").value;
  team2=document.getElementById("team2").value;
  if(team1===team2) return alert("Pick different teams!");

  score1=0; score2=0; timeRemaining=900; quarter=1;
  document.getElementById("matchup").innerText=`${team1} vs ${team2}`;
  document.getElementById("plays").innerHTML="";
  updateScoreboard();

  gameInterval=setInterval(simulatePlay,2000); // new play every 2s
}

function simulatePlay(){
  if(timeRemaining<=0){
    if(quarter<4){
      quarter++;
      timeRemaining=900; // reset 15 mins
      document.getElementById("plays").innerHTML+=`<div class="quarter">-- Start of Q${quarter} --</div>`;
    } else {
      clearInterval(gameInterval);
      document.getElementById("plays").innerHTML+=`<p><b>FINAL:</b> ${team1} ${score1} - ${team2} ${score2}</p>`;
      return;
    }
  }

  timeRemaining-=Math.floor(Math.random()*40+20); // plays take 20â€“60 sec
  if(timeRemaining<0) timeRemaining=0;

  let outcome=Math.random();
  let playText="", pts=0, scoringTeam;

  if(outcome<0.55){
    playText="Drive stalls. Punt.";
  }
  else if(outcome<0.8){
    scoringTeam=Math.random()>0.5?team1:team2;
    pts=3; playText=`${scoringTeam} - FG GOOD.`;
  }
  else if(outcome<0.97){
    scoringTeam=Math.random()>0.5?team1:team2;
    pts=6; playText=`${scoringTeam} - Touchdown!`;
    if(Math.random()>0.05){ pts+=1; playText+=" XP GOOD."; } else playText+=" XP NO GOOD.";
  }
  else {
    // rarer safety (~3% of outcomes max)
    if(Math.random()<0.3){
      scoringTeam=Math.random()>0.5?team1:team2;
      pts=2; playText=`${scoringTeam} DEFENSE SAFETY!`;
    } else {
      playText="Drive stalls. Punt.";
    }
  }

  if(pts>0){
    if(scoringTeam===team1) score1+=pts;
    else score2+=pts;
  }

  document.getElementById("plays").innerHTML+=`<p>${formatTime()} Q${quarter} - ${playText}</p>`;
  updateScoreboard();
}

function updateScoreboard(){
  let sb=document.getElementById("scoreboard");
  sb.innerText=`${team1} ${score1} - ${team2} ${score2} | Q${quarter} ${formatTime()}`;
  updateOdds();
}

function formatTime(){
  let min=Math.floor(timeRemaining/60), sec=timeRemaining%60;
  return `${min}:${sec<10?"0":""}${sec}`;
}

function updateOdds(){
  let diff=score1-score2;
  let prob=50+diff*2-(4-quarter)*2;
  if(prob<1) prob=1; if(prob>99) prob=99;
  document.getElementById("odds").innerText=
    `Win Probability: ${team1} ${prob}% | ${team2} ${100-prob}%`;
}
</script>
</body>
</html>
