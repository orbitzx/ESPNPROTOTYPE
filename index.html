<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>College Football Gamecast</title>
  <!-- Vast XL font -->
  <link href="https://fonts.googleapis.com/css2?family=Vast+Shadow&display=swap" rel="stylesheet">
  <style>
    body { font-family: Arial, sans-serif; background:#121212; color:#eee; margin:0; }
    header { background:#cc0000; color:white; padding:15px; text-align:center; font-size:26px; font-weight:bold; }
    .container { display:flex; flex-wrap:wrap; padding:20px; gap:20px; }
    .games, .gamecast { flex:1; background:#1e1e1e; border-radius:8px; padding:20px; box-shadow:0 3px 8px rgba(0,0,0,0.4); }
    select, button { padding:6px; margin:5px 0; border-radius:4px; border:none; }
    button { background:#cc0000; color:white; cursor:pointer; font-weight:bold; }
    button:hover { background:#e63939; }
    .scoreboard { font-family:'Vast Shadow', cursive; font-size:34px; font-weight:bold; margin:10px 0; text-align:center; color:#fff; }
    .quarter { margin-top:10px; font-weight:bold; color:#ffcc00; }
    .plays { max-height:350px; overflow-y:auto; background:#222; border:1px solid #333; border-radius:6px; padding:8px; font-size:14px; }
    .odds { margin-top:10px; text-align:center; }
    .bar-container { background:#333; border-radius:5px; overflow:hidden; margin-top:8px; height:18px; width:100%; }
    .bar { height:100%; transition:width 0.5s ease; }
    .bar.team1 { background:#cc0000; float:left; }
    .bar.team2 { background:#4444ff; float:right; }
  </style>
</head>
<body>

<header>College Football Gamecast</header>

<div class="container">
  <div class="games">
    <h2>Pick a Game</h2>
    <select id="team1"></select>
    <select id="team2"></select>
    <button onclick="startGame()">Start Game</button>
  </div>

  <div class="gamecast">
    <h2 id="matchup">No Game Selected</h2>
    <div id="scoreboard" class="scoreboard"></div>
    <div id="odds" class="odds"></div>
    <div class="bar-container">
      <div id="barTeam1" class="bar team1" style="width:50%"></div>
      <div id="barTeam2" class="bar team2" style="width:50%"></div>
    </div>
    <div class="plays" id="plays"></div>
  </div>
</div>

<script>
const teams = [
  "Alabama","Georgia","Ohio State","Michigan","Texas","Oklahoma",
  "Clemson","Notre Dame","LSU","Florida State","Penn State","USC",
  "Tennessee","Oregon","Washington","Texas A&M","Florida","Auburn",
  "Wisconsin","Iowa","Ole Miss","Kentucky","Miami","North Carolina",
  "Utah","TCU","Baylor","Mississippi State","Arkansas","Kansas State",
  "Oklahoma State","Nebraska","South Carolina","Louisville","Missouri",
  "NC State","Virginia Tech","Maryland","UCF","Boise State","West Virginia",
  "Pittsburgh","Minnesota","Michigan State","Duke","Colorado","Colorado State",
  "Texas Tech","Houston","Cincinnati","BYU","Arizona","Arizona State","Stanford",
  "California","Northwestern","Illinois","Purdue","Indiana","Rutgers","Syracuse",
  "Wake Forest","Boston College","SMU","Tulane","Memphis"
];

// Fill dropdowns
teams.forEach(t=>{
  document.getElementById("team1").add(new Option(t,t));
  document.getElementById("team2").add(new Option(t,t));
});

let gameInterval;
let team1, team2, score1, score2, timeRemaining, quarter;

function startGame(){
  clearInterval(gameInterval);
  team1=document.getElementById("team1").value;
  team2=document.getElementById("team2").value;
  if(team1===team2) return alert("Pick different teams!");

  score1=0; score2=0; timeRemaining=900; quarter=1;
  document.getElementById("matchup").innerText=`${team1} vs ${team2}`;
  document.getElementById("plays").innerHTML="";
  updateScoreboard();

  gameInterval=setInterval(simulatePlay,2000); // new play every 2s
}

function simulatePlay(){
  if(timeRemaining<=0){
    if(quarter<4){
      quarter++;
      timeRemaining=900; 
      document.getElementById("plays").innerHTML+=`<div class="quarter">-- Start of Q${quarter} --</div>`;
    } else {
      clearInterval(gameInterval);
      document.getElementById("plays").innerHTML+=`<p><b>FINAL:</b> ${team1} ${score1} - ${team2} ${score2}</p>`;
      return;
    }
  }

  timeRemaining-=Math.floor(Math.random()*40+20);
  if(timeRemaining<0) timeRemaining=0;

  let outcome=Math.random();
  let playText="", pts=0, scoringTeam;

  if(outcome<0.45){
    playText="Drive stalls. Punt.";
  }
  else if(outcome<0.65){
    scoringTeam=Math.random()>0.5?team1:team2;
    pts=3; 
    if(Math.random()<0.15) playText=`${scoringTeam} - FG MISSED.`; 
    else playText=`${scoringTeam} - FG GOOD.`;
  }
  else if(outcome<0.9){
    scoringTeam=Math.random()>0.5?team1:team2;
    let type = Math.random()<0.5 ? "run" : "pass";
    let yards = Math.floor(Math.random()*40+10);
    pts=6; playText=`${scoringTeam} - ${yards} yd ${type} Touchdown!`;
    if(Math.random()>0.05){ pts+=1; playText+=" XP GOOD."; } else playText+=" XP NO GOOD.";
  }
  else if(outcome<0.95){
    playText="Interception thrown!";
  }
  else if(outcome<0.98){
    playText="Fumble recovered!";
  }
  else {
    if(Math.random()<0.3){
      scoringTeam=Math.random()>0.5?team1:team2;
      pts=2; playText=`${scoringTeam} DEFENSE SAFETY!`;
    } else {
      playText="Turnover on downs.";
    }
  }

  if(pts>0){
    if(scoringTeam===team1) score1+=pts;
    else score2+=pts;
  }

  document.getElementById("plays").innerHTML+=`<p>${formatTime()} Q${quarter} - ${playText}</p>`;
  updateScoreboard();
}

function updateScoreboard(){
  let sb=document.getElementById("scoreboard");
  sb.innerText=`${team1} ${score1} - ${team2} ${score2} | Q${quarter} ${formatTime()}`;
  updateOdds();
}

function formatTime(){
  let min=Math.floor(timeRemaining/60), sec=timeRemaining%60;
  return `${min}:${sec<10?"0":""}${sec}`;
}

function updateOdds(){
  let diff=score1-score2;
  let prob=50+diff*2-(4-quarter)*2;
  if(prob<1) prob=1; if(prob>99) prob=99;
  document.getElementById("odds").innerText=
    `Win Probability: ${team1} ${prob}% | ${team2} ${100-prob}%`;

  // update progress bar
  document.getElementById("barTeam1").style.width=prob+"%";
  document.getElementById("barTeam2").style.width=(100-prob)+"%";
}
</script>
</body>
</html>
